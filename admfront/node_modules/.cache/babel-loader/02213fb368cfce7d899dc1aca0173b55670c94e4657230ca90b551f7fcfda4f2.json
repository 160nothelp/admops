{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"HomeView.vue\",\n  data() {\n    return {\n      menulist: [],\n      user: {},\n      isCollapsed: false\n    };\n  },\n  created() {\n    this.getMenuList();\n    this.getUserInfo();\n  },\n  methods: {\n    logout() {\n      window.localStorage.removeItem('token');\n      this.$router.push('/login');\n    },\n    async getMenuList() {\n      const {\n        data: response\n      } = await this.$http.get('users/menulist/');\n      if (response.code) {\n        return this.$message.error(response.message);\n      }\n      this.menulist = response; // 菜单项数组\n    },\n\n    async getUserInfo() {\n      const {\n        data: response\n      } = await this.$http.get('users/whoami/');\n      if (response.code) {\n        return this.$message.error(response.message);\n      }\n      this.user = response.user;\n    },\n    handleCommand() {}\n  }\n};","map":{"version":3,"mappings":";AAqDA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACAC;MACAC;MACA;IACA;IACA;MACA;QAAAP;MAAA;MACA;QACA;MACA;MACA;IACA;;IACA;MACA;QAAAA;MAAA;MACA;QACA;MACA;MACA;IACA;IACAQ,iBAEA;EACA;AACA","names":["name","data","menulist","user","isCollapsed","created","methods","logout","window","handleCommand"],"sourceRoot":"src/views","sources":["HomeView.vue"],"sourcesContent":["<template>\n  <el-container>\n    <el-header>\n      <div class=\"logo\">\n        <!--        <img src=\"../assets/img/head.jpeg\" alt=\"logo\"/>-->\n        <div class=\"title\">Adm运维系统管理平台</div>\n        <div>\n          <i :class=\"isCollapsed ? 'el-icon-s-unfold' : 'el-icon-s-fold'\" @click=\"isCollapsed = !isCollapsed\"></i>\n        </div>\n      </div>\n      <div class=\"info\">\n        <el-button type=\"info\" @click=\"logout\">退出</el-button>\n        <el-dropdown @command=\"handleCommand\">\n          <span class=\"el-dropdown-link\">{{ user.username }}<i class=\"elicon-arrow-down el-icon--right\"></i> </span>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item command=\"chpwd\">修改密码</el-dropdown-item>\n            <el-dropdown-item command=\"logout\">退出</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </div>\n    </el-header>\n    <el-container>\n      <!--menu 缩放，根据isCollapsed 的布尔  -->\n      <el-aside :width=\"isCollapsed ? '64px' : '200px'\">\n        <!--在el-menu中 :router=\"true\" ，开启路由 一旦开启路由后，点击el-menu-item菜单项就会按照index跳转 -->\n        <!--把 default-active 和 $route.path 关联 就会按照路径uri 菜单高亮 -->\n        <el-menu\n            router\n            background-color=\"#545c64\"\n            text-color=\"#fff\"\n            active-text-color=\"#ffd04b\"\n            :collapse=\"isCollapsed\"\n            :default-active=\"$route.path\"\n        >\n          <!-- v-for 生成menu -->\n          <el-submenu :index=\"item.id + ''\" v-for=\"item in menulist\" :key=\"item.id\">\n            <template slot=\"title\">\n              <i class=\"el-icon-user\"></i>\n              <span>{{ item.name }}</span>\n            </template>\n            <el-menu-item :index=\"c.path\" v-for=\"c in item.children\" :key=\"c.id\">{{ c.name }}</el-menu-item>\n          </el-submenu>\n        </el-menu>\n      </el-aside>\n      <el-main>\n        <!-- 子路由嵌套 -->\n        <router-view></router-view>\n      </el-main>\n    </el-container>\n  </el-container>\n</template>\n\n<script>\nexport default {\n  name: \"HomeView.vue\",\n  data() {\n    return {\n      menulist: [],\n      user: {},\n      isCollapsed: false\n    }\n  },\n  created() {\n    this.getMenuList()\n    this.getUserInfo()\n  },\n  methods: {\n    logout() {\n      window.localStorage.removeItem('token')\n      this.$router.push('/login')\n    },\n    async getMenuList() {\n      const {data: response} = await this.$http.get('users/menulist/')\n      if (response.code) {\n        return this.$message.error(response.message)\n      }\n      this.menulist = response // 菜单项数组\n    },\n     async getUserInfo() {\n      const { data: response } = await this.$http.get('users/whoami/')\n      if (response.code) {\n        return this.$message.error(response.message)\n     }\n      this.user = response.user\n   },\n    handleCommand(){\n      \n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.el-container {\n  background-color: #fff;\n  height: 100%;\n}\n\n.el-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-left: 5px;\n\n  .logo {\n    display: flex;\n    align-items: center;\n\n    img {\n      width: 40px;\n    }\n\n    .title {\n      font-size: 20px;\n      margin-left: 5px;\n    }\n\n    i {\n      font-size: 20px;\n      margin-left: 5px;\n    }\n  }\n}\n\n.el-aside {\n  background-color: #123;\n}\n\n.el-main {\n  background-color: #f0f2f4;\n}\n\n.el-menu {\n  border-right: none; // 消除菜单右侧白线\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}