{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Vue from 'vue';\nimport Main from './main.vue';\nimport { PopupManager } from 'element-ui/src/utils/popup';\nimport { isVNode } from 'element-ui/src/utils/vdom';\nimport { isObject } from 'element-ui/src/utils/types';\nlet MessageConstructor = Vue.extend(Main);\nlet instance;\nlet instances = [];\nlet seed = 1;\nconst Message = function (options) {\n  if (Vue.prototype.$isServer) return;\n  options = options || {};\n  if (typeof options === 'string') {\n    options = {\n      message: options\n    };\n  }\n  let userOnClose = options.onClose;\n  let id = 'message_' + seed++;\n  options.onClose = function () {\n    Message.close(id, userOnClose);\n  };\n  instance = new MessageConstructor({\n    data: options\n  });\n  instance.id = id;\n  if (isVNode(instance.message)) {\n    instance.$slots.default = [instance.message];\n    instance.message = null;\n  }\n  instance.$mount();\n  document.body.appendChild(instance.$el);\n  let verticalOffset = options.offset || 20;\n  instances.forEach(item => {\n    verticalOffset += item.$el.offsetHeight + 16;\n  });\n  instance.verticalOffset = verticalOffset;\n  instance.visible = true;\n  instance.$el.style.zIndex = PopupManager.nextZIndex();\n  instances.push(instance);\n  return instance;\n};\n['success', 'warning', 'info', 'error'].forEach(type => {\n  Message[type] = options => {\n    if (isObject(options) && !isVNode(options)) {\n      return Message({\n        ...options,\n        type\n      });\n    }\n    return Message({\n      type,\n      message: options\n    });\n  };\n});\nMessage.close = function (id, userOnClose) {\n  let len = instances.length;\n  let index = -1;\n  let removedHeight;\n  for (let i = 0; i < len; i++) {\n    if (id === instances[i].id) {\n      removedHeight = instances[i].$el.offsetHeight;\n      index = i;\n      if (typeof userOnClose === 'function') {\n        userOnClose(instances[i]);\n      }\n      instances.splice(i, 1);\n      break;\n    }\n  }\n  if (len <= 1 || index === -1 || index > instances.length - 1) return;\n  for (let i = index; i < len - 1; i++) {\n    let dom = instances[i].$el;\n    dom.style['top'] = parseInt(dom.style['top'], 10) - removedHeight - 16 + 'px';\n  }\n};\nMessage.closeAll = function () {\n  for (let i = instances.length - 1; i >= 0; i--) {\n    instances[i].close();\n  }\n};\nexport default Message;","map":{"version":3,"names":["Vue","Main","PopupManager","isVNode","isObject","MessageConstructor","extend","instance","instances","seed","Message","options","prototype","$isServer","message","userOnClose","onClose","id","close","data","$slots","default","$mount","document","body","appendChild","$el","verticalOffset","offset","forEach","item","offsetHeight","visible","style","zIndex","nextZIndex","push","type","len","length","index","removedHeight","i","splice","dom","parseInt","closeAll"],"sources":["/Users/adm119/VueProjects/admfront/node_modules/element-ui/packages/message/src/main.js"],"sourcesContent":["import Vue from 'vue';\nimport Main from './main.vue';\nimport { PopupManager } from 'element-ui/src/utils/popup';\nimport { isVNode } from 'element-ui/src/utils/vdom';\nimport { isObject } from 'element-ui/src/utils/types';\nlet MessageConstructor = Vue.extend(Main);\n\nlet instance;\nlet instances = [];\nlet seed = 1;\n\nconst Message = function(options) {\n  if (Vue.prototype.$isServer) return;\n  options = options || {};\n  if (typeof options === 'string') {\n    options = {\n      message: options\n    };\n  }\n  let userOnClose = options.onClose;\n  let id = 'message_' + seed++;\n\n  options.onClose = function() {\n    Message.close(id, userOnClose);\n  };\n  instance = new MessageConstructor({\n    data: options\n  });\n  instance.id = id;\n  if (isVNode(instance.message)) {\n    instance.$slots.default = [instance.message];\n    instance.message = null;\n  }\n  instance.$mount();\n  document.body.appendChild(instance.$el);\n  let verticalOffset = options.offset || 20;\n  instances.forEach(item => {\n    verticalOffset += item.$el.offsetHeight + 16;\n  });\n  instance.verticalOffset = verticalOffset;\n  instance.visible = true;\n  instance.$el.style.zIndex = PopupManager.nextZIndex();\n  instances.push(instance);\n  return instance;\n};\n\n['success', 'warning', 'info', 'error'].forEach(type => {\n  Message[type] = (options) => {\n    if (isObject(options) && !isVNode(options)) {\n      return Message({\n        ...options,\n        type\n      });\n    }\n    return Message({\n      type,\n      message: options\n    });\n  };\n});\n\nMessage.close = function(id, userOnClose) {\n  let len = instances.length;\n  let index = -1;\n  let removedHeight;\n  for (let i = 0; i < len; i++) {\n    if (id === instances[i].id) {\n      removedHeight = instances[i].$el.offsetHeight;\n      index = i;\n      if (typeof userOnClose === 'function') {\n        userOnClose(instances[i]);\n      }\n      instances.splice(i, 1);\n      break;\n    }\n  }\n  if (len <= 1 || index === -1 || index > instances.length - 1) return;\n  for (let i = index; i < len - 1 ; i++) {\n    let dom = instances[i].$el;\n    dom.style['top'] =\n      parseInt(dom.style['top'], 10) - removedHeight - 16 + 'px';\n  }\n};\n\nMessage.closeAll = function() {\n  for (let i = instances.length - 1; i >= 0; i--) {\n    instances[i].close();\n  }\n};\n\nexport default Message;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}